---
title: "ã€Flutterã€‘3Dãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ»ARè¡¨ç¤ºã®å®Ÿè£…æ–¹æ³•"
emoji: "ğŸ’»"
type: "tech"
topics: ["Flutter","3D","AR","Tech"]
published: true
---
# è¨˜äº‹ã®æ¦‚è¦ã€€
æœ¬è¨˜äº‹ã§ã¯ã€Flutterã§ç°¡å˜ã«3Dãƒ¢ãƒ‡ãƒ«ã®è¡¨ç¤ºã€ARã§ã®è¡¨ç¤ºã‚’ã™ã‚‹å®Ÿè£…æ–¹æ³•ã¨ãã®å‘¨è¾ºç”¨èªã«é–¢ã—ã¦è§£èª¬ã™ã‚‹ã€‚
å®Ÿè£…ã«ã¯Flutterã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã‚ã‚‹[model_viewer_plus](#model_viewer_plusã¨ã¯)ã‚’åˆ©ç”¨ã™ã‚‹ã€‚
â€»æœ¬è¨˜äº‹ã§ã¯iOSã§ã®å®Ÿè£…æ–¹æ³•ã®ã¿ã‚’æ‰±ã†ã€‚

# å‰æçŸ¥è­˜
## model_viewer_plusã¨ã¯
ãƒ»Flutterã§3Dãƒ¢ãƒ‡ãƒ«ã®è¡¨ç¤ºã€ARã§ã®è¡¨ç¤ºã‚’ç°¡å˜ã«å®Ÿè£…ã§ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€‚
ãƒ»[model-viewer](#model-viewerã¨ã¯)ã‚’WebViewã«åŸ‹ã‚è¾¼ã‚“ã§è¡¨ç¤ºã™ã‚‹ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’æä¾›ã™ã‚‹ã€‚
https://pub.dev/packages/model_viewer_plus

## model-viewerã¨ã¯
ãƒ»GoogleãŒé–‹ç™ºã—ã¦ã„ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Šã€Webä¸Šã§ç°¡å˜ã«3Dãƒ¢ãƒ‡ãƒ«ã€ARã®è¡¨ç¤ºãŒã§ãã‚‹æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã€‚
ãƒ»model-viewerã§ã¯ã€Androidã®å ´åˆ[Scene Viewer](#scene-viewerã¨ã¯)ã€iOSã®å ´åˆ[AR Quick Look](#ar-quick-lookã¨ã¯)ã¨ã„ã†ãƒã‚¤ãƒ†ã‚£ãƒ–ã®æ©Ÿèƒ½ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§3Dãƒ¢ãƒ‡ãƒ«ã‚„ARã§ã®è¡¨ç¤ºã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ã€‚
https://modelviewer.dev/

## AR Quick Lookã¨ã¯
ãƒ»AppleãŒæä¾›ã™ã‚‹æ©Ÿèƒ½ã€‚3Dãƒ¢ãƒ‡ãƒ«ã®è¡¨ç¤ºã‚„ARã§ã®è¡¨ç¤ºæ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã‚‹ã€‚
ãƒ»AR Quick Lookã¯iOSç«¯æœ«ã®Safariã®ã¿ã§å‹•ä½œã™ã‚‹ã€‚
ãƒ»AR Quick Lookã§è¡¨ç¤ºã§ãã‚‹3Dãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ¼ã‚¿ã¯**usdzå½¢å¼**ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

## Scene Viewerã¨ã¯
ãƒ»GoogleãŒæä¾›ã™ã‚‹æ©Ÿèƒ½ã€‚3Dãƒ¢ãƒ‡ãƒ«ã®è¡¨ç¤ºã‚„ARã§ã®è¡¨ç¤ºæ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã‚‹ã€‚
ãƒ»ARCoreã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹Androidç«¯æœ«ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œã™ã‚‹ã€‚
ãƒ»Scene Viewerã§è¡¨ç¤ºã§ãã‚‹3Dãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ¼ã‚¿ã¯**glb/gltfå½¢å¼**ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

# å®Ÿè£…æ‰‹é †
[model_viewer_plus](https://pub.dev/packages/model_viewer_plus)ã‚’åˆ©ç”¨ã—ã¦3Dãƒ¢ãƒ‡ãƒ«ã®è¡¨ç¤ºã¨ã€ARã§ã®è¡¨ç¤ºã‚’å®Ÿè£…ã™ã‚‹ã€‚
**1. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
```dart:pubspec.yaml
dependencies:
  model_viewer_plus: ^1.3.3
```

**2. Info.plistã«è¨­å®šå€¤ã®è¿½åŠ **
ios/Runner/Info.plistã«ä»¥ä¸‹ã®å€¤ã‚’è¿½åŠ ã™ã‚‹ã€‚
```dart:Info.plist
<key>io.flutter.embedded_views_preview</key>
<true/>
```

**3. main.dartã®å®Ÿè£…**
```dart:main.dart
import 'package:flutter/material.dart';
import 'package:model_viewer_plus/model_viewer_plus.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        appBar: AppBar(title: const Text("Model Viewer")),
        // â‘ ModelViewerã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã™ã‚‹
        body: ModelViewer(
          src: 'https://modelviewer.dev/shared-assets/models/NeilArmstrong.glb',
          iosSrc: 'https://modelviewer.dev/shared-assets/models/Astronaut.usdz',
          ar: true,
          autoRotate: true,
          cameraControls: true,
        ),
      ),
    );
  }
}
```

ModelViewerã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è§£èª¬
- src :
3Dãƒ¢ãƒ‡ãƒ«ã®URLã‚’æŒ‡å®šã™ã‚‹ã€‚glbã¾ãŸã¯gltfå½¢å¼ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
ã“ã“ã§æŒ‡å®šã—ãŸãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ¼ã‚¿ãŒã‚¢ãƒ—ãƒªå†…ã®WebViewã«è¡¨ç¤ºã•ã‚Œã‚‹ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ã«URLã§ã¯ãªãã€ã‚ã‚‰ã‹ã˜ã‚3Dãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãŠãFlutterã‚¢ã‚»ãƒƒãƒˆã¨ã—ã¦æŒ‡å®šã—ã¦èª­ã¿è¾¼ã‚€ã“ã¨ã‚‚ã§ãã‚‹ã€‚
```dart:main.dart
body: ModelViewer(
          src: 'assets/NeilArmstrong.glb',
          ---çœç•¥---
        ),
```
- iosSrc :
usdzå½¢å¼ã®3Dãƒ¢ãƒ‡ãƒ«ã®URLã‚’æŒ‡å®šã™ã‚‹ã€‚
ã“ã“ã§æŒ‡å®šã—ãŸãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ¼ã‚¿ãŒAR Quick Lookã§åˆ©ç”¨ã•ã‚Œã‚‹ã€‚
AR Quick Lookã¯ã‚¢ãƒ—ãƒªå†…ã®WebViewã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹3Dãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ãƒœã‚¿ãƒ³(ç”»é¢å³ä¸‹)ã§å‘¼ã³å‡ºã™Safariã‹ã‚‰èµ·å‹•ã§ãã‚‹ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ã«URLã§ã¯ãªãã€ã‚ã‚‰ã‹ã˜ã‚3Dãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãŠãFlutterã‚¢ã‚»ãƒƒãƒˆã¨ã—ã¦æŒ‡å®šã—ã¦èª­ã¿è¾¼ã‚€ã“ã¨ã‚‚ã§ãã‚‹ã€‚
```dart:main.dart
body: ModelViewer(
          iosSrc: 'assets/Astronaut.usdz',
          ---çœç•¥---
        ),
```
- ar :
ãƒ‡ãƒã‚¤ã‚¹ã§ã®ARæ©Ÿèƒ½ã®æœ‰åŠ¹/ç„¡åŠ¹ã‚’è¨­å®šã™ã‚‹ã€‚

- autoRotate :
ãƒ¢ãƒ‡ãƒ«ã®è‡ªå‹•å›è»¢æ©Ÿèƒ½ã®æœ‰åŠ¹/ç„¡åŠ¹ã‚’è¨­å®šã™ã‚‹ã€‚

- cameraControls :
ãƒã‚¦ã‚¹/ã‚¿ãƒƒãƒã«ã‚ˆã‚‹ãƒ¢ãƒ‡ãƒ«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«æ©Ÿèƒ½ã®æœ‰åŠ¹/ç„¡åŠ¹ã‚’è¨­å®šã™ã‚‹ã€‚

ãã®ä»–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«é–¢ã—ã¦ã¯[å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://modelviewer.dev/docs/)ã‚’å‚ç…§ã€‚

# å‹•ä½œç¢ºèª
â€»å‹•ä½œç¢ºèªã®ãŸã‚ã®ãƒ‡ãƒãƒƒã‚°ã§ã¯ã€ã‚·ãƒ¥ãƒŸãƒ¬ãƒ¼ã‚¿ã§ã¯ãªã**iphoneå®Ÿæ©Ÿ**(iOS:15.6.1)ã‚’åˆ©ç”¨ã€‚
1. ã‚¢ãƒ—ãƒªèµ·å‹•
![](/images/3d_model/1_3d_model.png =300x)
srcã§æŒ‡å®šã—ãŸãƒ‡ãƒ¼ã‚¿ãŒã‚¢ãƒ—ãƒªå†…ã®WebViewã«è¡¨ç¤ºã•ã‚Œã‚‹ã€‚

2. 3Dãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ãƒœã‚¿ãƒ³(ç”»é¢å³ä¸‹)ã‚’ã‚¿ãƒƒãƒ—
![](/images/3d_model/2_3d_model.png =300x)
SafariãŒèµ·å‹•ã—ã€iosSrcã«æŒ‡å®šã—ãŸãƒ¢ãƒ‡ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

3. Safariä¸Šã§ãƒ¢ãƒ‡ãƒ«ã‚’ã‚¿ãƒƒãƒ—ã—AR Quick Lookã‚’èµ·å‹•
![](/images/3d_model/3_3d_model.png =300x)
ARã§ãƒ¢ãƒ‡ãƒ«ã®è¡¨ç¤ºãŒç¢ºèªã§ãã‚‹ã€‚

# å®Ÿè£…ã‚³ãƒ¼ãƒ‰
ä»Šå›å®Ÿè£…ã—ãŸã‚³ãƒ¼ãƒ‰å…¨æ–‡
```dart:main.dart
import 'package:flutter/material.dart';
import 'package:model_viewer_plus/model_viewer_plus.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        appBar: AppBar(title: const Text("Model Viewer")),
        body: ModelViewer(
          src: 'https://modelviewer.dev/shared-assets/models/NeilArmstrong.glb',
          iosSrc: 'https://modelviewer.dev/shared-assets/models/Astronaut.usdz',
          ar: true,
          autoRotate: true,
          cameraControls: true,
        ),
      ),
    );
  }
}
```
# ã¾ã¨ã‚
model_viewer_plusã‚’åˆ©ç”¨ã—ã¦3Dãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤ºã€ARã§ã®è¡¨ç¤ºã‚’ç°¡å˜ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ããŸã€‚æœ¬è¨˜äº‹ã§ã¯iOSã®ã¿ã‚’æ‰±ã£ãŸãŒã€model_viewer_plusã®READMEã‚’å‚è€ƒã«ã™ã‚Œã°ã€Android/Webã«é–¢ã—ã¦ã‚‚ç°¡å˜ã«å®Ÿè£…ãŒã§ããã†ã§ã‚ã‚‹ã€‚

# å‚è€ƒ
ãƒ»AppleãŒæä¾›ã™ã‚‹usdzå½¢å¼ã®ã‚µãƒ³ãƒ—ãƒ«3Dãƒ‡ãƒ¼ã‚¿
https://developer.apple.com/augmented-reality/quick-look/
ãƒ»model-viewer
https://modelviewer.dev/

